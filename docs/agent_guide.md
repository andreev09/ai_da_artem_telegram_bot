# Памятка для агентов и автоматизации

Документ помогает агентам (Codex CLI, расширения IDE, фоновые задачи) быстро сориентироваться в проекте и расходовать меньше токенов. Используйте его при запуске автогенерации кода или ревью.

## Что посмотреть сначала

1. Прочитайте [архитектуру](architecture.md), чтобы понимать контекст и основные точки расширения.
2. Загляните в [процессы разработки](development.md) — там описано, как запускать тесты и приложение.
3. Если нужна предметная область (например, тексты сообщений), откройте `texts.py`/`texts.json`.
4. Перед записью изменений уточните, нет ли незакоммиченных правок (`git status`).

## Подготовка запроса для агента

- Формулируйте цель в одном-двух предложениях, затем приводите план шагов.
- Прикладывайте ссылки на нужные файлы (например, `@webhook_handlers.py`) и выдержки из документации.
- Если требуется новая функциональность, кратко опишите текущую архитектуру словами, не заставляя агента пересканировать весь проект.
- Для фоновых задач сразу указывайте ветку, ограничения по токенам/времени и желаемый объём изменений.

## Обязательные проверки

Перед завершением задачи убедитесь, что агент выполнил:

1. Формирование плана (`Planning` в Codex) и согласование критичных шагов.
2. Запуск тестов (`pytest` или `python -m unittest`). Если тестов нет, зафиксируйте это в итоговом отчёте.
3. Форматирование и статический анализ при необходимости (поддерживайте стиль PEP 8, избегайте мёртвого кода).
4. Обновление документации, если поведение или интерфейс меняются.

## Работа с документацией

- Когда добавляете новый модуль или API, обновляйте существующие документы либо создавайте новые и добавляйте ссылки в [README каталога](README.md).
- Поддерживайте инструкции в `docs/` актуальными — это экономит токены и время при будущих автоматизациях.
- Если вы агент, сообщайте в ответе, какие документы читали и какие тесты запускали.

## Полезные шаблоны

- **План исправления:**
  1. Изучить `docs/architecture.md` для понимания контекста.
  2. Открыть целевые файлы (`@path/to/file`).
  3. Внести изменения, соблюдать стиль Python (типизация, Docstring, логирование).
  4. Обновить документацию.
  5. Запустить тесты и предоставить лог.

- **Ответ агента:**
  - Краткое резюме изменений.
  - Ссылки на обновлённые файлы.
  - Результаты тестов.
  - Напоминание о следующих шагах (если что-то осталось сделать).

Следуя этим рекомендациям, фоновые агенты и разработчики смогут быстрее выполнять задачи, а история коммитов останется чистой и воспроизводимой.

